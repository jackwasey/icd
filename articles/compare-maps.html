<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Comparing Comorbidity Mappings • Comorbidity calculations and tools for ICD-9 and ICD-10 codes</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/all.min.css" integrity="sha256-nAmazAk6vS34Xqo0BSrTb+abbtFlgsFK7NKSi6o7Y78=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/v4-shims.min.css" integrity="sha256-6qHlizsOWFskGlwVOKuns+D1nB6ssZrHQrNj1wGplHc=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script><!-- sticky kit --><script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Comparing Comorbidity Mappings">
<meta property="og:description" content="">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">Comorbidity calculations and tools for ICD-9 and ICD-10 codes</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">4.0.6.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/CMS-HCC.html">Using Hierarchical Condition Codes</a>
    </li>
    <li>
      <a href="../articles/ICD-10.html">ICD-10 comorbidities</a>
    </li>
    <li>
      <a href="../articles/PCCC.html">Pediatric Complex Chronic Conditions</a>
    </li>
    <li>
      <a href="../articles/charlson-scores.html">Charlson and Van Walraven scores</a>
    </li>
    <li>
      <a href="../articles/compare-maps.html">Comparing Comorbidity Mappings</a>
    </li>
    <li>
      <a href="../articles/country-lang-vers-prebuilt.html">Working with World Health Organization ICD codes and national editions, and different languages</a>
    </li>
    <li>
      <a href="../articles/custom-maps.html">Quick custom comorbidity maps are helpful</a>
    </li>
    <li>
      <a href="../articles/efficiency-prebuilt.pdf">icd: Efficient Computation of Comorbidities from ICD Codes Using Sparse Matrix Multiplication in R (PDF)</a>
    </li>
    <li>
      <a href="../articles/introduction.html">An Introduction to icd</a>
    </li>
    <li>
      <a href="../articles/ranges.html">Ranges of ICD codes</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1>Comparing Comorbidity Mappings</h1>
                        <h4 class="author">Andrew Cooper (original)</h4>
                        <h4 class="author">Jack Wasey (minor updates)</h4>
            
            <h4 class="date">March 1, 2018</h4>
      
      
      <div class="hidden name"><code>compare-maps.Rmd</code></div>

    </div>

    
    
<!--
Copyright (C) 2014 - 2019  Jack O. Wasey

This file is part of icd.

icd is free software: you can redistribute it and/or modify
it under the terms of the GNU General Public License as published by
the Free Software Foundation, either version 3 of the License, or
(at your option) any later version.

icd is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
GNU General Public License for more details.

You should have received a copy of the GNU General Public License
along with icd. If not, see <http:#www.gnu.org/licenses/>.
-->
<p>When deciding which comorbidity mapping to use in research, it might be useful to compare mapping schemes. For instance, it would be useful to know which comorbidities a pair of mapping schemes share, and which comorbidities only exist in only one mapping scheme. For comorbidites that exist in both mapping schemes, how many ICD codes assigned to those comorbidities overlap? In other words, how similar are the mapping schemes structurally?</p>
<p>To answer these questions, we can use the function <code>diff_comorbid</code> in the “ICD” package. This function takes in two mapping schemes and outputs a comorbidity-by-comorbidity comparison of the two assignments. The function identifies comorbidities that are shared by both mapping schemes. It then takes each shared comorbidity and returns a list of codes that both mapping schemes assign to that comorbidity. The function returns a list of character lists, and condenses it into a summary of comparisons.</p>
<p>The following example demonstrates the comparison of two different mapping schemes. Say we were interested in comparing the mapping schemes of Elixhauser (1998) and Agency for Healthcare Research and Quality (AHRQ) in classifying ICD-9 codes. We can first use basic set operations to compare the comorbidity names.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" title="1">Elix_comor &lt;-<span class="st"> </span><span class="kw"><a href="https://rdrr.io/r/base/names.html">names</a></span>(icd9_map_ahrq)</a>
<a class="sourceLine" id="cb1-2" title="2">AHRQ_comor &lt;-<span class="st"> </span><span class="kw"><a href="https://rdrr.io/r/base/names.html">names</a></span>(icd9_map_elix)</a></code></pre></div>
<p>These comorbidities are shared:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb2-1" title="1"><span class="kw"><a href="https://rdrr.io/r/base/sets.html">intersect</a></span>(AHRQ_comor, Elix_comor)</a></code></pre></div>
<pre><code>##  [1] "CHF"          "Valvular"     "PHTN"         "PVD"         
##  [5] "HTN"          "HTNcx"        "Paralysis"    "NeuroOther"  
##  [9] "Pulmonary"    "DM"           "DMcx"         "Hypothyroid" 
## [13] "Renal"        "Liver"        "PUD"          "HIV"         
## [17] "Lymphoma"     "Mets"         "Tumor"        "Rheumatic"   
## [21] "Coagulopathy" "Obesity"      "WeightLoss"   "FluidsLytes" 
## [25] "BloodLoss"    "Anemia"       "Alcohol"      "Drugs"       
## [29] "Psychoses"    "Depression"</code></pre>
<p>These comorbidities are in AHRQ but not in the Elixhauser sets:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb4-1" title="1"><span class="kw"><a href="https://rdrr.io/r/base/sets.html">setdiff</a></span>(AHRQ_comor, Elix_comor)</a></code></pre></div>
<pre><code>## [1] "Arrhythmia"</code></pre>
<p>Finally, these comorbidities are in Elixhauser but not in the AHRQ sets:</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb6-1" title="1"><span class="kw"><a href="https://rdrr.io/r/base/sets.html">setdiff</a></span>(Elix_comor, AHRQ_comor)</a></code></pre></div>
<pre><code>## character(0)</code></pre>
<p>We see that the comorbidity names are almost exactly the same except for Arrhythmia, which exists in the AHRQ mapping but not the Elixhauser mapping.</p>
<p>Now we run the function <code>diff_comorbid</code> and input the ICD-9 mappings from Elixhauser and AHRQ that are included in the package. The <code>all_names</code> option can be used if one wants to compare only a selection of comorbidities, in which case one can give a list of comorbidity names. By default, the function will compare all comorbiditi.introduces in both mapping schemes. Similarly, <code>x_names</code> and <code>y_names</code> can be used to specify the comorbidities to compare in the first and second mapping schemes, respectively. Setting the option <code>show</code> to <code>TRUE</code> tells the function to print out the comparison summary, and setting the option <code>explain</code> to <code>TRUE</code> tells the function to attempt to combine many low-level ICD codes to form just their parent codes for the output, which can be much more concise.</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb8-1" title="1">comp &lt;-<span class="st"> </span><span class="kw"><a href="../reference/diff_comorbid.html">diff_comorbid</a></span>(icd9_map_ahrq, icd9_map_elix,</a>
<a class="sourceLine" id="cb8-2" title="2">                      <span class="dt">show =</span> <span class="ot">TRUE</span>, <span class="dt">explain =</span> <span class="ot">TRUE</span>)</a></code></pre></div>
<pre><code>## Comorbidity CHF: 
## icd9_map_ahrq has 4 codes not in icd9_map_elix. First few are: 'Mal hypert hrt dis w hf' 'Mal hyp ht/kd I-IV w hf' 'Mal hyp ht/kd stg V w hf' 'Heart failure' 
## Comorbidity Valvular: 
## icd9_map_ahrq has 28 codes not in icd9_map_elix. First few are: 'Syphilitic endocarditis' 'Diseases of mitral valve' 'Rheum endocarditis NOS' 'Other diseases of endocardium' 
## Comorbidity PHTN: 
## icd9_map_ahrq has 12 codes not in icd9_map_elix. First few are: 'Pulmonary embolism and infarction' 'Chronic pulmonary heart disease' 
## Comorbidity PVD: 
## icd9_map_ahrq has 301 codes not in icd9_map_elix. First few are: 'Atherosclerosis' 'Aortic aneurysm and dissection' 'Other aneurysm' 'Of arteries of the extremities' 'Septic arterial embolism' 
## Comorbidity HTN: 
## icd9_map_ahrq has 11 codes not in icd9_map_elix. First few are: 'Benign essential hypertension complicating pregnancy, childbirth, and the puerperium' 
## Comorbidity HTNcx: 
## icd9_map_ahrq has 88 codes not in icd9_map_elix. First few are: 'Malignant hypertension' 'Malignant' 'Benign hyp ht dis w hf' 'Hyp ht dis NOS w ht fail' 'Hypertensive chronic kidney disease' 
## Comorbidity Paralysis: 
## icd9_map_ahrq has 132 codes not in icd9_map_elix. First few are: 'Hemiplegia and hemiparesis' 'Other paralytic syndromes' 'Hemiplegia/hemiparesis' 'Monoplegia of upper limb' 'Monoplegia of lower limb' 
## Comorbidity NeuroOther: 
## icd9_map_ahrq has 357 codes not in icd9_map_elix. First few are: 'Cerebral degenerations usually manifest in childhood' 'Other cerebral degenerations' 'Acquired torsion dystonia' 'Subac dyskinesa d/t drug' 'Restless legs syndrome' 
## icd9_map_elix has 22 codes not in icd9_map_ahrq. First few are: 'Anoxic brain damage' 'Encephalopathy, not elsewhere classified' 
## Comorbidity Pulmonary: 
## icd9_map_ahrq has 24 codes not in icd9_map_elix. First few are: 'Emphysema' 'Asthma' 'Extrinsic allergic alveolitis' 
## Comorbidity DM: 
## icd9_map_ahrq has 63 codes not in icd9_map_elix. First few are: 'Secondary diabetes mellitus without mention of complication' 'Secondary diabetes mellitus with ketoacidosis' 'Secondary diabetes mellitus with hyperosmolarity' 'Secondary diabetes mellitus with other coma' 'Diabetes mellitus without mention of complication' 
## Comorbidity DMcx: 
## icd9_map_ahrq has 103 codes not in icd9_map_elix. First few are: 'Secondary diabetes mellitus with renal manifestations' 'Secondary diabetes mellitus with ophthalmic manifestations' 'Secondary diabetes mellitus with neurological manifestations' 'Secondary diabetes mellitus with peripheral circulatory disorders' 'Secondary diabetes mellitus with other specified manifestations' 
## Comorbidity Hypothyroid: match.
## Comorbidity Renal: 
## icd9_map_ahrq has 38 codes not in icd9_map_elix. First few are: 'Mal hyp kid w cr kid V' 'Mal hy ht/kd st V w/o hf' 'Mal hyp ht/kd stg V w hf' 'Ben hyp ht/kd stg V w hf' 'Hyp ht/kd NOS st V w hf' 
## icd9_map_elix has 56 codes not in icd9_map_ahrq. First few are: 'Chronic kidney disease (CKD)' 
## Comorbidity Liver: 
## icd9_map_ahrq has 15 codes not in icd9_map_elix. First few are: 'Hpt B chrn coma wo dlta' 'Hpt B chrn coma w dlta' 'Chrnc hpt C w hepat Coma' 'Chronic hepatitis' 'Hepatopulmonary syndrome' 
## Comorbidity PUD: 
## icd9_map_ahrq has 20 codes not in icd9_map_elix. First few are: 'Chr stom ulc w hem-obstr' 'Chr stom ulc w perf-obst' 'Chr stom ulc hem/perf-ob' 'Chr stomach ulc NOS-obst' 'Stomach ulcer NOS-obstr' 
## icd9_map_elix has 5 codes not in icd9_map_ahrq. First few are: 'Stomach ulcer NOS' 'Duodenal ulcer NOS' 'Peptic ulcer NOS' 'Gastrojejunal ulcer NOS' 'Prsnl hst peptic ulcr ds' 
## Comorbidity HIV: 
## icd9_map_elix has 221 codes not in icd9_map_ahrq. First few are: 
## Comorbidity Lymphoma: 
## icd9_map_ahrq has 100 codes not in icd9_map_elix. First few are: 'Lymphosarcoma and reticulosarcoma and other specified malignant tumors of lymphatic tissue' 'Malignant histiocytosis' 'Letterer-Siwe disease' 'Multiple myeloma and immunoproliferative neoplasms' 'Multiple myeloma' 
## icd9_map_elix has 3 codes not in icd9_map_ahrq. First few are: 'Other lymphatic and hematopoietic neoplasms' 
## Comorbidity Mets: 
## icd9_map_ahrq has 9 codes not in icd9_map_elix. First few are: 'Secondary and unspecified malignant neoplasm of lymph nodes' 'Secondary neuroendocrine tumors' 'Malignant ascites' 
## Comorbidity Tumor: 
## icd9_map_ahrq has 71 codes not in icd9_map_elix. First few are: 'Malignant neoplasm of lip' 'Malignant melanoma of skin' 'Malignant neoplasm of female breast' 'Malignant neoplasm of male breast' 'Malignant neoplasm of other and ill-defined sites' 
## icd9_map_elix has 109 codes not in icd9_map_ahrq. First few are: 'Personal history of malignant neoplasm' 
## Comorbidity Rheumatic: 
## icd9_map_ahrq has 3 codes not in icd9_map_elix. First few are: 'Diffuse diseases of connective tissue' 'Rheumatoid arthritis and other inflammatory polyarthropathies' 'Ankylosing spondylitis and other inflammatory spondylopathies' 
## Comorbidity Coagulopathy: 
## icd9_map_ahrq has 13 codes not in icd9_map_elix. First few are: 'Coagulation defects' 'Heparin-indu thrombocyto' 'Coagulation defects complicating pregnancy, childbirth, or the puerperium' 
## Comorbidity Obesity: 
## icd9_map_ahrq has 35 codes not in icd9_map_elix. First few are: 'Obesity complicating pregnancy, childbirth, or the puerperium' 'Image test incon d/t fat' 'Body Mass Index between 30-39, adult' 'Body Mass Index 40 and over, adult' 'BMI,pediatric &gt;= 95%' 
## Comorbidity WeightLoss: 
## icd9_map_ahrq has 12 codes not in icd9_map_elix. First few are: 'Other and unspecified protein-calorie malnutrition' 'Abnormal loss of weight and underweight' 
## Comorbidity FluidsLytes: 
## icd9_map_ahrq has 1 codes not in icd9_map_elix. First few are: 'Disorders of fluid, electrolyte, and acid-base balance' 
## Comorbidity BloodLoss: 
## icd9_map_ahrq has 11 codes not in icd9_map_elix. First few are: 'Anemia' 
## Comorbidity Anemia: 
## icd9_map_ahrq has 12 codes not in icd9_map_elix. First few are: 'Other deficiency anemias' 'Anemia of chronic disease' 
## Comorbidity Alcohol: 
## icd9_map_ahrq has 136 codes not in icd9_map_elix. First few are: 'Delirium tremens' 'Alcoh psy dis w hallucin' 'Alcohol dependence syndrome' 'Alcohol abuse' 
## icd9_map_elix has 11 codes not in icd9_map_ahrq. First few are: 'Hx of alcoholism' 
## Comorbidity Drugs: 
## icd9_map_ahrq has 28 codes not in icd9_map_elix. First few are: 'Drug dependence' 'Cannabis abuse' 'Other, mixed, or unspecified drug abuse' 'Drug dependence' 
## Comorbidity Psychoses: 
## icd9_map_ahrq has 3 codes not in icd9_map_elix. First few are: 'Schizophrenic disorders' 'Other nonorganic psychoses' 
## Comorbidity Depression: match.
## Comorbidities only defined in icd9_map_elix are: Arrhythmia</code></pre>
<p>The comparison summary provides the size of the asymmetric difference between mapping schemes for each shared comorbidity, along with a list of a few code descriptions in that difference. This summary doesn’t provide a very detailed look at the similarities between comorbidity mappings. We can get a more detailed look at a particular comorbidity by specifying it.</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb10-1" title="1">comp<span class="op">$</span>CHF</a></code></pre></div>
<pre><code>## $both
##   [1] "39891" "40211" "40291" "40411" "40413" "40491" "40493" "4280" 
##   [9] "42800" "42801" "42802" "42803" "42804" "42805" "42806" "42807"
##  [17] "42808" "42809" "4281"  "42810" "42811" "42812" "42813" "42814"
##  [25] "42815" "42816" "42817" "42818" "42819" "4282"  "42820" "42821"
##  [33] "42822" "42823" "42824" "42825" "42826" "42827" "42828" "42829"
##  [41] "4283"  "42830" "42831" "42832" "42833" "42834" "42835" "42836"
##  [49] "42837" "42838" "42839" "4284"  "42840" "42841" "42842" "42843"
##  [57] "42844" "42845" "42846" "42847" "42848" "42849" "4285"  "42850"
##  [65] "42851" "42852" "42853" "42854" "42855" "42856" "42857" "42858"
##  [73] "42859" "4286"  "42860" "42861" "42862" "42863" "42864" "42865"
##  [81] "42866" "42867" "42868" "42869" "4287"  "42870" "42871" "42872"
##  [89] "42873" "42874" "42875" "42876" "42877" "42878" "42879" "4288" 
##  [97] "42880" "42881" "42882" "42883" "42884" "42885" "42886" "42887"
## [105] "42888" "42889" "4289"  "42890" "42891" "42892" "42893" "42894"
## [113] "42895" "42896" "42897" "42898" "42899"
## 
## $only.x
## [1] "40201" "40401" "40403" "428"  
## 
## $only.y
## character(0)</code></pre>
<p>In this example we look at the shared comorbidity Congestive Heart Failure (CHF). Note the list first gives us all the ICD codes that exist in both comorbidity mappings. Then it gives a list called <code>only.x</code>, followed by a list called <code>only.y</code>. <code>x</code> and <code>y</code> refer to the first and second mappings given to the function call. In this case, <code>x</code> refers to the AHRQ ICD-9 mapping, and <code>y</code> refers to the Elixhauser original 1998 ICD-9 mapping. So <code>only.x</code> lists all the ICD codes in the AHRQ comorbidity but not the Elixhauser comorbidity. Conversely, <code>only.y</code> lists all the ICD codes in the Elixhauser comorbidity but not in the AHRQ comorbidity, which in this case is none.</p>
<p>We can see from this comparison that the two mapping schemes are quite similar for this comorbidity. Most of the ICD codes exist in both mappings, and only a handful of mappings exist in the AHRQ mapping but not in the Elixhauser mapping. This makes sense since AHRQ was designed to update the original Elixhauser 1998 comorbidities, and has expanded the comorbidities in annual updates. This means any analysis of CHF that uses either Elixhauser or AHRQ should produce comparable results, since the comorbidity mappings are not wildly different.</p>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
      </div>

</div>


      <footer><div class="copyright">
  <p>Developed by Jack O. Wasey, R Core Team.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.3.0.9000.</p>
</div>
      </footer>
</div>

  

  </body>
</html>
